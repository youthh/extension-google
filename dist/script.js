(()=>{"use strict";let e=[document.querySelectorAll("input"),document.querySelectorAll("[contenteditable=true]"),document.querySelectorAll("textarea"),document.querySelectorAll("iframe")],n=[{mainWord:"Cat",replaceWordFirst:"Dog",replaceWordSecond:"Rat",replaceWordThird:"bat"},{mainWord:"Helo",replaceWordFirst:"hello",replaceWordSecond:"Help",replaceWordThird:"Hell"},{mainWord:"heldp",replaceWordFirst:"help",replaceWordSecond:"held",replaceWordThird:"hello"}],t=!1,o=0,r=0;document.body.addEventListener("mousemove",(function(e){r=e.clientY,o=e.clientX}));const l=()=>{let e=document.getElementById("menu_text"),n=document.getElementById("menu_style");t=!1,e&&n&&(e.remove(),n.remove())},a=(e,n,o,r)=>{t=!0,document.body.contains(document.getElementById("menu_text"))||document.body.contains(document.getElementById("menu_style"))||c(!0,e.replaceWordFirst,e.replaceWordSecond,e.replaceWordThird);let a=document.querySelectorAll(".chose_box-btn");document.getElementById("btn").addEventListener("click",(()=>{t&&l()})),a.forEach((e=>{e.addEventListener("click",(e=>{let a;e.preventDefault(),"INPUT"===n.target.nodeName||"TEXTAREA"===n.target.nodeName?(a=n.target.value.split(" "),a.splice(r.index,1,e.target.innerText.toString().trim()),n.target.value=a.join(" ")):(a=n.target.innerText.split(" "),a.splice(r.index,1,e.target.innerText.toString().trim()),n.target.innerText=a.join(" ")),t&&l(),o.focus()}))}))},i=(e,o,r,l)=>{n.forEach((n=>{r.word===n.mainWord&&"click"===o.type?a(n,o,l,r):"keypress"===o.type&&e.forEach((e=>{e!==n.mainWord||t||a(n,o,l,r)}))}))},c=(e,n,t,l)=>{const a=document.createElement("div"),i=document.createElement("style");i.innerHTML=`\n        .container_menu{\n            width: 150px;\n            margin: 10px auto;\n            border-radius: 12px;\n            background: #fff;\n            box-shadow: 0 0 4px 0 rgb(0 0 0 / 30%);\n            display: block;\n            position: absolute;\n            top: ${r}px;\n            left: ${o}px;\n            z-index: 1000;\n        }\n        .choose_box{\n            list-style: none;\n            padding-left: 0;\n            margin: 0;\n        }\n        #btn{\n            padding: 5px 10px;\n            margin: 8px;\n            outline: none;\n            background-color: rgba(70, 0, 255, 0.8);\n            color: #fff;\n            font-weight: 600;\n            border: 0;\n            border-radius: 12px;\n            display: flex;\n            margin-right: auto;\n            cursor:pointer;\n        }   \n        \n        a:visited {\n            color: #000 !important;\n        }\n        \n        .chose_box-btn{\n            text-decoration: none;\n            color: #000;\n            font-weight: 600;\n            font-size: 16px;\n            display: block;\n             font-family: sans-serif;\n\n        }\n        \n        .choose_box-item{\n            margin-bottom: 5px;\n            padding: 8px 12px;\n            transition: .2s;\n        }\n        \n        .choose_box-item:hover{\n            background-color: rgba(70, 0, 255, 0.8);\n           \n        }\n        \n        .choose_box-item:hover a{\n            color: #fff;\n        }\n\n        \n        .choose_box-item:last-child{\n            margin-bottom: 0;\n            border-radius: 0 0 12px 12px;\n        }\n    `,a.className="container_menu",a.setAttribute("id","menu_text"),i.setAttribute("id","menu_style"),a.innerHTML=`\n       <button class="btnClose" id="btn">Close</button>\n       <ul class="choose_box">\n          <li class="choose_box-item">\n              <a class="chose_box-btn"  href="#">\n                  ${n}\n              </a>\n          </li>\n          <li class="choose_box-item">\n              <a class="chose_box-btn" href="#">\n                  ${t}\n              </a>\n          </li>\n          <li class="choose_box-item">\n              <a class="chose_box-btn" href="#">\n                  ${l}\n              </a>\n          </li>\n      </ul>\n    `,document.body.append(a,i)},d=(e,n)=>{let t=n.split(" "),o=0;for(let n=0;n<t.length;n++)if(o+=t[n].length+1,o>e&&t[n].length<15)return{word:t[n].trim(),index:n}};e.forEach((e=>{(e=>{let n,t;e.forEach((e=>{e.addEventListener("click",(o=>{if("INPUT"===o.target.nodeName||"TEXTAREA"===o.target.nodeName){let e=o.currentTarget.selectionStart;n=d(e,o.target.value),t=o.target.value.split(" ")}else n=d(window.getSelection().focusOffset,o.target.innerText),t=o.target.innerText.split(" ");n&&i(t,o,n,e)})),e.addEventListener("keypress",(o=>{t="INPUT"===o.target.nodeName||"TEXTAREA"===o.target.nodeName?o.target.value.split(" "):o.target.innerText.split(" "),i(t,o,n,e)}))}))})(e)}))})();